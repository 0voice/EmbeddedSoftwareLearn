## ğŸ”µ ç¬¬ä¸€å±‚ï¼šC/C++ è¯­è¨€åŸºç¡€ä¸è¿›é˜¶ï¼ˆå¿…ä¿®ï¼‰

### âœ… å˜é‡ / æ•°æ®ç±»å‹ / å…³é”®å­— / å¸¸é‡

#### ğŸ“Œ å˜é‡ï¼ˆVariableï¼‰
- ç”¨äºåœ¨ç¨‹åºä¸­å­˜å‚¨æ•°æ®çš„å…·åå†…å­˜åŒºåŸŸã€‚
- å£°æ˜æ ¼å¼ï¼š`ç±»å‹ å˜é‡å [= åˆå§‹å€¼];`
```c
int count = 10;
float temperature;
char c = 'A';
```
- å±€éƒ¨å˜é‡ï¼šå‡½æ•°å†…å£°æ˜ï¼Œä»…åœ¨å‡½æ•°å†…éƒ¨å¯ç”¨ã€‚
- å…¨å±€å˜é‡ï¼šå‡½æ•°å¤–å£°æ˜ï¼Œæ•´ä¸ªæ–‡ä»¶æˆ–é¡¹ç›®ä¸­å¯è§ï¼ˆæ ¹æ®ä½œç”¨åŸŸï¼‰ã€‚

#### ğŸ“Œ æ•°æ®ç±»å‹ï¼ˆData Typesï¼‰
- **æ•´å‹**ï¼š`int`, `short`, `long`, `long long`, `unsigned`
- **æµ®ç‚¹å‹**ï¼š`float`, `double`
- **å­—ç¬¦å‹**ï¼š`char`
- **æ´¾ç”Ÿç±»å‹**ï¼šæŒ‡é’ˆã€æ•°ç»„ã€ç»“æ„ä½“ç­‰
```c
unsigned int u = 100;
long long big_number = 12345678900LL;
```

#### ğŸ“Œ å…³é”®å­—ï¼ˆKeywordsï¼‰
å¸¸ç”¨ C å…³é”®å­—è§£é‡Šå¦‚ä¸‹ï¼š
| å…³é”®å­—     | è¯´æ˜                         |
|------------|------------------------------|
| `const`    | å®šä¹‰åªè¯»å˜é‡                 |
| `volatile` | é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œå¸¸ç”¨äºå¯„å­˜å™¨ |
| `static`   | å˜é‡ä½œç”¨åŸŸæˆ–å‡½æ•°ä»…åœ¨æœ¬æ–‡ä»¶å¯è§ |
| `extern`   | å£°æ˜å¤–éƒ¨å˜é‡/å‡½æ•°            |
| `typedef`  | ä¸ºæ•°æ®ç±»å‹å–åˆ«å             |
```c
static int counter = 0;     // å†…éƒ¨é“¾æ¥
extern int g_value;         // å£°æ˜å¤–éƒ¨å˜é‡
volatile uint32_t *reg = (uint32_t *)0x40021000; // ç”¨äºå¯„å­˜å™¨è®¿é—®
```

#### ğŸ“Œ å¸¸é‡ï¼ˆConstantï¼‰
- **å­—é¢å¸¸é‡**ï¼šå¦‚ `10`, `3.14`, `'a'`, `"abc"`
- **ç¬¦å·å¸¸é‡**ï¼šç”¨ `#define` æˆ– `const` å®šä¹‰
```c
 #define PI 3.14159
const int MAX_SIZE = 100;
```

---

### âœ… æ ˆ å’Œ å †ï¼ˆå†…å­˜ç®¡ç†ï¼‰
- **æ ˆ (stack)**ï¼šè‡ªåŠ¨åˆ†é…å†…å­˜ï¼Œå‡½æ•°é€€å‡ºå³é‡Šæ”¾ã€‚
  - ç¤ºä¾‹ï¼šå±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ç­‰
- **å † (heap)**ï¼šä½¿ç”¨ `malloc` / `free` æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾  
```c
// æ ˆå†…å­˜ç¤ºä¾‹
void func() {
    int a = 10; // a åœ¨æ ˆä¸­
}
// å †å†…å­˜ç¤ºä¾‹
int *p = (int *)malloc(sizeof(int) * 10);
if (p) {
    p[0] = 100;
    free(p);
}
```

### âœ… æŒ‡é’ˆ / æŒ‡é’ˆæ•°ç»„ / äºŒçº§æŒ‡é’ˆ
- **æŒ‡é’ˆ**ï¼šä¿å­˜å˜é‡çš„åœ°å€
- **æŒ‡é’ˆæ•°ç»„**ï¼šæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡é’ˆ
- **äºŒçº§æŒ‡é’ˆ**ï¼šæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ
```c
int val = 42;
int *p = &val;
int **pp = &p;
printf("%d\n", **pp); // è¾“å‡º 42
```

### âœ… å‡½æ•°æŒ‡é’ˆ / å‡½æ•°æŒ‡é’ˆæ•°ç»„
- **å‡½æ•°æŒ‡é’ˆå£°æ˜**ï¼š`int (*fp)(int)` è¡¨ç¤ºæŒ‡å‘è¿”å› `int` çš„å‡½æ•°çš„æŒ‡é’ˆ
- **å‡½æ•°æŒ‡é’ˆæ•°ç»„**ï¼šç”¨äºç­–ç•¥æ¨¡å¼æˆ–æ³¨å†Œå¤šä¸ªå¤„ç†å‡½æ•°
```c
int add(int a, int b) { return a + b; }
int sub(int a, int b) { return a - b; }

int (*ops[2])(int, int) = { add, sub };
printf("%d\n", ops[0](5, 3)); // è¾“å‡º 8
```

### âœ… è¡¨è¾¾å¼ã€è¯­å¥ã€è¿ç®—ç¬¦
- è¡¨è¾¾å¼ï¼š`a + b`, `x++`, `p[i]`
- è¿ç®—ç¬¦ï¼š`+`, `-`, `*`, `/`, `%`, `&&`, `||`, `!`, `==`, `!=`
- è¯­å¥ï¼šæ§åˆ¶æµç¨‹ç»“æ„ `if`, `for`, `while`, `switch`

### âœ… æ•°ç»„ / å­—ç¬¦ä¸²
#### æ•°ç»„ï¼ˆArrayï¼‰
- æ•°ç»„æ˜¯ä¸€ç»„ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆï¼Œåœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ã€‚
- ä¸€ç»´æ•°ç»„å®šä¹‰ï¼š`ç±»å‹ æ•°ç»„å[å¤§å°];`

```c
int arr[5] = {1, 2, 3, 4, 5};
char str[10] = "Hello";
```

- æ•°ç»„ç´¢å¼•ä» 0 å¼€å§‹ï¼Œè®¿é—®æ–¹å¼å¦‚ï¼šarr[2] è¡¨ç¤ºç¬¬ä¸‰ä¸ªå…ƒç´ ã€‚
- å¤šç»´æ•°ç»„ï¼šint matrix[3][4]; è¡¨ç¤º 3 è¡Œ 4 åˆ—çŸ©é˜µã€‚
#### å­—ç¬¦ä¸²ï¼ˆStringï¼‰
- å­—ç¬¦ä¸²æ˜¯ä»¥ç©ºå­—ç¬¦ '\0' ç»“å°¾çš„å­—ç¬¦æ•°ç»„ã€‚
- å®šä¹‰æ–¹å¼ï¼š
```c
char str1[] = "Hello";       // è‡ªåŠ¨æ·»åŠ  '\0'
char str2[6] = {'H','e','l','l','o','\0'}; // æ‰‹åŠ¨æŒ‡å®š
```
- å¸¸ç”¨å­—ç¬¦ä¸²å‡½æ•°
```
// éœ€åŒ…å«å¤´æ–‡ä»¶ <string.h>
strlen(str); // è®¡ç®—é•¿åº¦ï¼ˆä¸å« '\0'ï¼‰
strcpy(dest, str); // æ‹·è´
strcmp(a, b); // æ¯”è¾ƒå­—ç¬¦ä¸²
strcat(a, b); // å°† b æ‹¼æ¥åˆ° a åé¢
```
```c
 #include <string.h>

char msg[20];
strcpy(msg, "Hi");     // msg: "Hi"
strcat(msg, " there"); // msg: "Hi there"
```

### âœ… ç»“æ„ä½“ / å…±ç”¨ä½“ / æšä¸¾ / ä½åŸŸ
- **ç»“æ„ä½“**ï¼šå®šä¹‰å¤æ‚æ•°æ®ç»“æ„
- **å…±ç”¨ä½“**ï¼šèŠ‚çœå†…å­˜ï¼Œä¸åŒå­—æ®µå…±äº«åŒä¸€å—ç©ºé—´
- **æšä¸¾**ï¼šå®šä¹‰ä¸€ç»„å‘½åæ•´æ•°å¸¸é‡
- **ä½åŸŸ**ï¼šæ§åˆ¶ç»“æ„ä½“ä¸­æ¯ä¸ªå­—æ®µæ‰€å ä½æ•°
```c
typedef struct {
    int id;
    char name[20];
} Student;

union Value {
    int i;
    float f;
};

enum Color { RED, GREEN, BLUE };

struct Flags {
    unsigned int ready : 1;
    unsigned int error : 1;
};
```

### âœ… ä½æ“ä½œ
- åµŒå…¥å¼å¼€å‘ä¸­ç”¨äºè®¾ç½®å¯„å­˜å™¨ä½ã€æ§åˆ¶ç¡¬ä»¶
```c
#define LED_PIN (1 << 2)
PORT |= LED_PIN;   // ç½®ä½
PORT &= ~LED_PIN;  // æ¸…é›¶
PORT ^= LED_PIN;   // ç¿»è½¬
```

### âœ… å…³é”®è¯­ä¹‰ & ä¿®é¥°ç¬¦
#### `const`ï¼ˆåªè¯»é™å®šç¬¦ï¼‰
```c
const int a = 10;
void print(const char* msg);  // msg ä¸å¯ä¿®æ”¹
```

#### `volatile`ï¼ˆé˜²æ­¢ä¼˜åŒ–ï¼‰
```c
volatile int *reg = (int *)0x40021000;  // ç¡¬ä»¶å¯„å­˜å™¨è®¿é—®
```

#### `static`ï¼ˆé™æ€å˜é‡/å†…éƒ¨é“¾æ¥ï¼‰
```c
static int count = 0;   // é™æ€å˜é‡ï¼Œå‡½æ•°è°ƒç”¨é—´ä¿ç•™å€¼
```

#### `extern`ï¼ˆå¤–éƒ¨å˜é‡å£°æ˜ï¼‰
```c
extern int global_var;
```

#### `register`ï¼ˆæç¤ºå˜é‡å­˜æ”¾å¯„å­˜å™¨ï¼‰
```c
register int speed;
```

#### `auto`ï¼ˆé»˜è®¤å±€éƒ¨å˜é‡ï¼‰
```c
auto int a = 10;  // ä¸€èˆ¬å¯çœç•¥ auto
```

### âœ… å†…å­˜å­˜å‚¨ç±»å‹ä¸ç”Ÿå‘½å‘¨æœŸ

| å­˜å‚¨ç±»å‹   | ç”Ÿå‘½å‘¨æœŸ        | ä½œç”¨åŸŸ            | å…³é”®å­—       |
|------------|-----------------|-------------------|--------------|
| æ ˆï¼ˆstackï¼‰ | å‡½æ•°è°ƒç”¨æœŸé—´    | å±€éƒ¨å˜é‡          | auto         |
| é™æ€åŒº     | ç¨‹åºå…¨ç¨‹        | å±€éƒ¨/å…¨å±€         | static       |
| å †ï¼ˆheapï¼‰ | æ‰‹åŠ¨ç®¡ç†        | å…¨å±€              | malloc/free  |
| å¯„å­˜å™¨     | å‡½æ•°è°ƒç”¨æœŸé—´    | å±€éƒ¨              | register     |

### âœ… ç¼–è¯‘ä¸è°ƒè¯•åŸºç¡€

#### C ç¼–è¯‘å››é˜¶æ®µï¼ˆä»¥ GCC ä¸ºä¾‹ï¼‰
```bash
gcc -E main.c -o main.i   # é¢„å¤„ç†
gcc -S main.c -o main.s   # ç¼–è¯‘ä¸ºæ±‡ç¼–
gcc -c main.c -o main.o   # æ±‡ç¼–ä¸ºç›®æ ‡æ–‡ä»¶
gcc main.o -o main        # é“¾æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
```

#### Makefile ç¤ºä¾‹
```makefile
CC = gcc
TARGET = app
OBJS = main.o utils.o

$(TARGET): $(OBJS)
	$(CC) -o $@ $^

%.o: %.c
	$(CC) -c $< -o $@

clean:
	rm -f *.o $(TARGET)
```

#### GCC ç¼–è¯‘å‚æ•°
| å‚æ•° | å«ä¹‰ |
|------|------|
| `-Wall` | å¼€å¯æ‰€æœ‰è­¦å‘Š |
| `-g`    | å«è°ƒè¯•ä¿¡æ¯ |
| `-O2`   | ä¼˜åŒ–ç­‰çº§ |
| `-I`    | å¤´æ–‡ä»¶è·¯å¾„ |
| `-L`/`-l` | åº“è·¯å¾„å’Œé“¾æ¥ |
| `-D`    | å®å®šä¹‰ |

#### GDB åŸºç¡€è°ƒè¯•
```bash
gdb ./main
(gdb) break main
(gdb) run
(gdb) next / step
(gdb) print var
(gdb) continue
```

#### å†…è”æ±‡ç¼–
```c
int result;
__asm__ __volatile__ (
    "movl $5, %%eax;"
    "movl $3, %%ebx;"
    "addl %%ebx, %%eax;"
    "movl %%eax, %0;"
    : "=r"(result)
    :
    : "%eax", "%ebx"
);
printf("result = %d\n", result);  // è¾“å‡º 8
```